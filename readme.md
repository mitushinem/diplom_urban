# Telrgram Bot for Hotels.com



Бот реализован на Python 3.10 и использует для работы API rapidapi.com. Для правильной и корректной работы бота необходимо дополнительно установить библиотеки из requirements.txt 

**Бот производит поиск отелей по каталогу сайта Hotels.com по заданным критериям.**  



## Установка и запуск

> Для корректной работы бота, на сервере должен быть установлен python 3.10 и выше

1.  Установка всех необходимых зависимостей для работы бота

   ```
   pip install -r /path/to/requirements.txt
   ```

2. Зарегистрировать нового бота и получить секретный ключ

3. Зарегистрироваться на https://rapidapi.com/ и получить ключ API 

4. Создать файл **.env** и заполнить его по аналогии с **.env.template**

5. Запустить бота командой **python main.py**



## Описание модулей

Для работы бота используется БД sqlite3. 

Бот состоит из следующих модулей:

1. **config_data** – содержит настройки конфигурации
2. **database** - содержит описание моделей и методы работы с БД. hotels-tb.db может отсутствовать, создается при первом старте бота
3. **filters** - custom фильтры для определения ввода данных от пользователя
4. **handlers** - в данном модуле описана работа всех команд бота, а также callback обработчики
5. **keyboards** - методы клавиатур, используемых для работы бота
6. **rapid_api** - модуль для работы c API
7. **state** - модуль, в котором описаны все состояния работы бота
8. **utils** - дополнительные методы, которые не вошли в другие моддули
9. **main.py** - Основной файл проекта. Запускает работу бота.
10. **loader.py** - инициализация бота
11. **.env** - хранятся секретные ключи от телеграмм и API



## Команды

- **start** - Запустить бота
- **help** - Вывести справку с описанием работы
- **lowprice** - вывод самых дешевых отелей
- **highprice** - вывод самых дорогих отелей
- **bestdeal** - выбрать отели по своим параметрам: расстояние от центра и ценовые диапазоны
- **history** - история запросов по работе с ботом



## Примеры вывода сообщений

![111.jpg](https://ie.wampi.ru/2022/06/09/111.jpg)

![222aa05c2d4710ea9d9.jpg](https://ie.wampi.ru/2022/06/09/222aa05c2d4710ea9d9.jpg)